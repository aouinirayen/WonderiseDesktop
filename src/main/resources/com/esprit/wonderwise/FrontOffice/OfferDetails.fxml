<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.text.Text?>
<?import javafx.geometry.Insets?>

<ScrollPane fitToWidth="true" stylesheets="@OfferDetails.css" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.esprit.wonderwise.Controller.FrontOffice.OfferDetailsController">
    <VBox styleClass="details-container" spacing="30">
        <!-- Header with title and location -->
        <VBox styleClass="header">
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label fx:id="offerTitleLabel" styleClass="offer-title" text="Escapade à Paris" />
                <Label fx:id="ratingLabel" styleClass="rating-value" text="4.5" />
                <Region HBox.hgrow="ALWAYS" />
            </HBox>
            <HBox styleClass="location-container">
                <ImageView fitHeight="20" fitWidth="20">
                    <image>
                        <Image url="@../icons/location-pin.png" />
                    </image>
                </ImageView>
                <Label fx:id="paysLabel" styleClass="location-text" text="France" />
            </HBox>
        </VBox>

        <!-- Description Section -->
        <VBox styleClass="info-section">
            <Label styleClass="section-title" text="Description" />
            <Text fx:id="descriptionText" styleClass="description-text" wrappingWidth="800" />
        </VBox>

        <!-- Main content area -->
        <HBox spacing="30" VBox.vgrow="ALWAYS" fillHeight="true">
            <!-- Left side with image -->
            <VBox HBox.hgrow="ALWAYS" spacing="20" alignment="TOP_CENTER" minWidth="200" maxWidth="Infinity">
                <StackPane styleClass="image-container">
                    <ImageView fx:id="offerImageView" fitWidth="600" fitHeight="400" preserveRatio="true" styleClass="main-image" />
                </StackPane>
            </VBox>
            
            <!-- Right side with booking info -->
            <VBox maxWidth="350" minWidth="300" HBox.hgrow="NEVER" alignment="TOP_CENTER">
                <VBox styleClass="booking-panel">
                    <VBox styleClass="price-container">
                        <Label styleClass="price-label" text="Prix par personne" />
                        <Label fx:id="priceLabel" styleClass="price-value" text="1,200 TND" />
                    </VBox>
                    
                    <VBox styleClass="date-info">
                        <HBox spacing="5">
                            <Label styleClass="date-label" text="Date de début:" />
                            <Label fx:id="startDateLabel" styleClass="date-value" text="20/06/2023" />
                        </HBox>
                        <HBox spacing="5">
                            <Label styleClass="date-label" text="Date de fin:" />
                            <Label fx:id="endDateLabel" styleClass="date-value" text="27/06/2023" />
                        </HBox>
                    </VBox>
                    
                    <VBox fx:id="placesInfo" styleClass="places-info">
                        <HBox spacing="5">
                            <Label styleClass="places-label" text="Places disponibles:" />
                            <Label fx:id="placesLabel" styleClass="places-value" text="12 places" />
                        </HBox>
                    </VBox>
                </VBox>
            </VBox>
        </HBox>

        <!-- Bouton Réserver en bas -->
        <HBox alignment="CENTER">
            <Button fx:id="bookButton" styleClass="book-now-button" text="Réserver maintenant" onAction="#handleBookNow" />
        </HBox>
    </VBox>
</ScrollPane>