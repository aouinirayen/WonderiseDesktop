<?xml version="1.0" encoding="UTF-8"?>

<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ChoiceBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.shape.SVGPath?>

<BorderPane styleClass="border-pane" xmlns="http://javafx.com/javafx/8.0.171" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.esprit.wonderwise.Controller.FrontOffice.AddReservationFrontController">
    <stylesheets>
        <String fx:value="@AddReservationFront.css"/>
    </stylesheets>
    <top>
        <HBox alignment="CENTER" spacing="10">
            <Button fx:id="returnButton" styleClass="retour-button" text="Retour" onAction="#handleCancel" />
        </HBox>
    </top>
    <center>
        <StackPane alignment="CENTER">
            <VBox alignment="CENTER" styleClass="main-container">
                <!-- Form Container -->
                <VBox fx:id="formContainer" maxWidth="800" styleClass="form-container">
                    <ScrollPane fitToWidth="true" styleClass="form-scroll-pane">
                        <content>
                            <VBox fx:id="formVBox" styleClass="form-content">
                                <!-- Header with Title -->
                                <HBox alignment="CENTER" styleClass="form-header">
                                    <Label styleClass="label-title" text="Formulaire de Réservation" />
                                </HBox>
                                
                                <!-- Form Fields Container -->
                                <VBox spacing="15" styleClass="form-fields-container">
                                    <!-- Destination/Offre selection -->
                                    <HBox alignment="CENTER" spacing="10">
                                        <VBox spacing="5" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                            <Label styleClass="label-field" text="Destination :">
                                                <graphic>
                                                    <Label styleClass="required-field" text="*" />
                                                </graphic>
                                            </Label>
                                            <ChoiceBox fx:id="offreChoice" styleClass="choice-box" maxWidth="Infinity" />
                                            <Label fx:id="offreError" styleClass="error-label" managed="false" visible="false" />
                                        </VBox>
                                    </HBox>

                                    <!-- Personal Information Section -->
                                    <HBox alignment="CENTER" spacing="20">
                                        <VBox spacing="5" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                            <Label styleClass="label-field" text="Nom :">
                                                <graphic>
                                                    <Label styleClass="required-field" text="*" />
                                                </graphic>
                                            </Label>
                                            <TextField fx:id="nomField" promptText="Entrez votre nom" styleClass="text-field" />
                                            <Label fx:id="nomError" styleClass="error-label" managed="false" visible="false" />
                                        </VBox>

                                        <VBox spacing="5" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                            <Label styleClass="label-field" text="Prénom :">
                                                <graphic>
                                                    <Label styleClass="required-field" text="*" />
                                                </graphic>
                                            </Label>
                                            <TextField fx:id="prenomField" promptText="Entrez votre prénom" styleClass="text-field" />
                                            <Label fx:id="prenomError" styleClass="error-label" managed="false" visible="false" />
                                        </VBox>
                                    </HBox>

                                    <!-- Contact Information Section -->
                                    <HBox alignment="CENTER" spacing="20">
                                        <VBox spacing="5" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                            <Label styleClass="label-field" text="Email :">
                                                <graphic>
                                                    <Label styleClass="required-field" text="*" />
                                                </graphic>
                                            </Label>
                                            <TextField fx:id="emailField" promptText="Entrez votre email" styleClass="text-field" />
                                            <Label fx:id="emailError" styleClass="error-label" managed="false" visible="false" />
                                        </VBox>

                                        <VBox spacing="5" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                            <Label styleClass="label-field" text="Téléphone :">
                                                <graphic>
                                                    <Label styleClass="required-field" text="*" />
                                                </graphic>
                                            </Label>
                                            <TextField fx:id="telephoneField" promptText="Entrez votre téléphone" styleClass="text-field" />
                                            <Label fx:id="telephoneError" styleClass="error-label" managed="false" visible="false" />
                                        </VBox>
                                    </HBox>

                                    <!-- Reservation Details Section -->
                                    <HBox alignment="CENTER" spacing="20">
                                        <VBox spacing="5" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                            <Label styleClass="label-field" text="Nombre de personnes :">
                                                <graphic>
                                                    <Label styleClass="required-field" text="*" />
                                                </graphic>
                                            </Label>
                                            <TextField fx:id="nombrePersonneField" promptText="Entrez le nombre" styleClass="text-field" />
                                            <Label fx:id="nombrePersonneError" styleClass="error-label" managed="false" visible="false" />
                                        </VBox>

                                        <VBox spacing="5" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                            <Label styleClass="label-field" text="Mode de paiement :">
                                                <graphic>
                                                    <Label styleClass="required-field" text="*" />
                                                </graphic>
                                            </Label>
                                            <ChoiceBox fx:id="modePaiementChoice" styleClass="choice-box" maxWidth="Infinity">
                                                <items>
                                                    <FXCollections fx:factory="observableArrayList">
                                                        <String fx:value="Carte bancaire" />
                                                        <String fx:value="Espèces" />
                                                        <String fx:value="Chèque" />
                                                    </FXCollections>
                                                </items>
                                            </ChoiceBox>
                                            <Label fx:id="modePaiementError" styleClass="error-label" managed="false" visible="false" />
                                        </VBox>
                                    </HBox>

                                    <!-- Hidden Fields Section -->
                                    <HBox alignment="CENTER" spacing="10" styleClass="hidden-field">
                                        <VBox spacing="5" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                            <Label styleClass="label-field" text="Ville :" />
                                            <TextField fx:id="villeField" promptText="Entrez votre ville" styleClass="text-field" />
                                            <Label fx:id="villeError" styleClass="error-label" managed="false" visible="false" />
                                        </VBox>
                                    </HBox>

                                    <HBox alignment="CENTER" spacing="10" styleClass="hidden-field">
                                        <VBox spacing="5" alignment="CENTER_LEFT" HBox.hgrow="ALWAYS">
                                            <Label styleClass="label-field" text="Régime alimentaire :" />
                                            <TextField fx:id="regimeAlimentaireField" promptText="Ex: Standard, Végétarien, Sans gluten..." styleClass="text-field" />
                                            <Label fx:id="regimeAlimentaireError" styleClass="error-label" managed="false" visible="false" />
                                        </VBox>
                                    </HBox>

                                    <!-- Comments Section -->
                                    <VBox spacing="5" alignment="CENTER_LEFT">
                                        <Label styleClass="label-field" text="Commentaire :" />
                                        <TextArea fx:id="commentaireField" promptText="Ajoutez un commentaire ou des instructions spéciales..." styleClass="text-area" wrapText="true" />
                                    </VBox>
                                </VBox>

                                <!-- Action Buttons -->
                                <HBox alignment="CENTER" spacing="15" styleClass="bottom-buttons">
                                    <Button fx:id="addButton" onAction="#handleAddReservation" styleClass="button-add" text="Réserver" />
                                    <Button fx:id="cancelButton" onAction="#handleCancel" styleClass="button-cancel" text="Annuler" />
                                </HBox>
                            </VBox>
                        </content>
                    </ScrollPane>
                </VBox>
            </VBox>
        </StackPane>
    </center>
</BorderPane>
